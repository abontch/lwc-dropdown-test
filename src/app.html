<template>
<div class="slds-form-element">
  <label class="slds-form-element__label" for="combobox-id-11" id="combobox-label-id-135">{label}</label>
  <div class="slds-form-element__control">
    <div class="slds-combobox_container">
      <div class={dropdownClasses}>
        <div class="slds-combobox__form-element slds-input-has-icon slds-input-has-icon_right" role="none">
          <input type="text" 
                class="slds-input slds-combobox__input" 
                id="combobox-id-11" 
                aria-autocomplete="list" 
                aria-controls="listbox-id-9" 
                aria-expanded="false" 
                aria-haspopup="listbox" 
                autocomplete="off" 
                role="combobox"
                value={value} 
                placeholder={placeholder}
                oninput={handleInput} 
                onfocus={handleFocus}
                onblur={handleBlur}
          />
          <span class="slds-icon_container slds-icon-utility-down slds-input__icon slds-input__icon_right">
            <lightning-icon icon-name="utility:down" alternative-text="" size="x-small"></lightning-icon>
          </span>
        </div>
        <div id="listbox-id-9" class="slds-dropdown slds-dropdown_length-5 slds-dropdown_fluid" role="listbox">
          <ul class="slds-listbox slds-listbox_vertical" role="presentation">
            <template if:true={isOptionsAvailable}>
              <template for:each={filteredOptions} for:item="option">
                <li role="presentation" class="slds-listbox__item" key={option.value}>
                  <div data-value={option.value} data-label={option.label} onclick={handleSelectOption} class="slds-media slds-listbox__option slds-listbox__option_plain slds-media_small" role="option">
                    <span class="slds-media__figure slds-listbox__option-icon"></span>
                    <span class="slds-media__body">
                      <span class="slds-truncate">{option.label}</span>
                    </span>
                  </div>
                </li>
              </template>
            </template>
            <template if:false={isOptionsAvailable}>
              <li role="presentation" class="slds-align--absolute-center slds-listbox__item">
                  <div class="slds-media slds-listbox__option slds-listbox__option_entity slds-listbox__option_has-meta" role="option">
                      <span class="slds-listbox__option-text slds-listbox__option-text_entity slds-p-around--xx-small">No options found.</span>
                  </div>
              </li>
            </template>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>
</template>


                         <!--   <template if:true={filteredOptions.length}>
                                <template for:each={filteredOptions} for:item="option">
                                    <li role="presentation" class="slds-listbox__item" key={option.value}>
                                        <div data-value={option.value} data-label={option.label} onclick={handleSelectOption} class="slds-media slds-listbox__option slds-listbox__option_entity slds-listbox__option_has-meta" role="option">
                                            <span class="slds-listbox__option-text slds-listbox__option-text_entity slds-p-around--xx-small">{option.label}</span>
                                        </div>
                                    </li>
                                </template>
                            </template>
                            <template if:true={noOptions}>
                                <li role="presentation" class="slds-align--absolute-center slds-listbox__item">
                                    <div class="slds-media slds-listbox__option slds-listbox__option_entity slds-listbox__option_has-meta" role="option">
                                        <span class="slds-listbox__option-text slds-listbox__option-text_entity slds-p-around--xx-small">No options found.</span>
                                    </div>
                                </li>
                            </template>
                        -->